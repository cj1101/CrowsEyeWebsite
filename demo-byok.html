<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BYOK Demo - Crow's Eye Pricing</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background: #0056b3;
        }
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .pricing-card {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        .price {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        .byok-notice {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            display: none;
        }
        .byok-active .byok-notice {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Crow's Eye Pricing - BYOK Demo</h1>
        
        <div class="byok-notice">
            ðŸŽ‰ BYOK discount applied - Save 30%!
        </div>
        
        <p>This demo shows how the BYOK (Bring Your Own Key) pricing works:</p>
        
        <button class="button" onclick="enableByok()">Enable BYOK (Set API Key)</button>
        <button class="button" onclick="disableByok()">Disable BYOK (Remove API Key)</button>
        <button class="button" onclick="refreshPricing()">Refresh Pricing</button>
        
        <div class="pricing-grid" id="pricing-grid">
            <!-- Pricing cards will be populated by JavaScript -->
        </div>
        
        <h3>Instructions:</h3>
        <ol>
            <li>Click "Enable BYOK" to simulate having a custom API key</li>
            <li>Notice how the prices change to show the 30% discount</li>
            <li>Click "Disable BYOK" to return to regular pricing</li>
            <li>This simulates the same functionality on the actual pricing page</li>
        </ol>
        
        <p><strong>Note:</strong> On the real website, navigate to <code>/pricing</code> and use your browser's developer console to run:</p>
        <pre>localStorage.setItem('CUSTOM_API_KEY', 'test_key'); location.reload();</pre>
    </div>

    <script>
        const tiers = [
            { id: 'spark', name: 'Spark', monthly: 0, description: 'Students & hobbyists' },
            { id: 'creator', name: 'Creator', monthly: 19, description: 'Solo-preneurs & freelancers' },
            { id: 'growth', name: 'Growth', monthly: 49, description: 'Side-hustles & small teams' },
            { id: 'pro', name: 'Pro Agency', monthly: 89, description: 'Agencies & SMB marketing teams' },
            { id: 'enterprise', name: 'Enterprise', monthly: 0, description: 'Large orgs & custom needs' }
        ];

        function hasCustomApiKey() {
            return Boolean(localStorage.getItem('CUSTOM_API_KEY'));
        }

        function calculateByokPrice(price) {
            return price ? Math.round(price * 0.7) : 0;
        }

        function enableByok() {
            localStorage.setItem('CUSTOM_API_KEY', 'demo_api_key');
            refreshPricing();
        }

        function disableByok() {
            localStorage.removeItem('CUSTOM_API_KEY');
            refreshPricing();
        }

        function refreshPricing() {
            const hasByok = hasCustomApiKey();
            const container = document.getElementById('pricing-grid');
            const body = document.body;
            
            if (hasByok) {
                body.classList.add('byok-active');
            } else {
                body.classList.remove('byok-active');
            }
            
            container.innerHTML = tiers.map(tier => {
                let displayPrice;
                if (tier.monthly === 0) {
                    displayPrice = tier.id === 'enterprise' ? 'Custom' : '$0';
                } else {
                    const price = hasByok ? calculateByokPrice(tier.monthly) : tier.monthly;
                    displayPrice = `$${price}${hasByok ? ' (BYOK)' : ''}`;
                }
                
                return `
                    <div class="pricing-card">
                        <h3>${tier.name}</h3>
                        <div class="price">${displayPrice}</div>
                        <p>${tier.description}</p>
                        ${tier.monthly > 0 && tier.id !== 'enterprise' ? 
                            '<small>Save 30% with your own API key</small>' : ''}
                    </div>
                `;
            }).join('');
        }

        // Initialize pricing on page load
        refreshPricing();
    </script>
</body>
</html> 